# 如何理解CDN

## 1.CDN 概念

CDN，即内容分发网络（Content Delivery Network），是一种智能虚拟网络，构建在现有网络基础之上。它通过在全球各地部署边缘服务器，并利用中心平台的负载均衡、内容分发和调度功能，让用户可以从距离他们最近的 CDN 节点获取所需内容。这种技术降低了网络拥塞，提高了用户的访问响应速度和缓存命中率。

## 2.解析过程

- 1.先在全国各地架设 CDN 服务器
- 原则上：当用户在浏览器中输入一个网站的域名时，首先进行域名解析，将域名转换为 IP 地址。解析到对应的 web 服务器。
- 2.当用户通过 CDN 域名访问网站时，域名将被解析到 CDN 专用 DNS 服务器，并返回 CDN 全局负载均衡服务器的 IP 地址。
- 3.用户的请求被 CDN 的全局负载均衡服务器接收，它会根据用户的 IP 地址确定用户所属的区域，并分配一个区域负载均衡服务器的 IP 地址。这个区域负载均衡服务器负责将用户的请求路由到最适合的 CDN 服务器。
- 4.如果内容在 CDN 服务器上缓存，CDN 将返回缓存的内容，减少对源服务器的请求。
- 5.如果内容不在 CDN 服务器上，CDN 服务器会尝试从更靠近源服务器的 CDN 节点或者直接从源服务器获取内容 ，CDN 将获取内容并缓存，以便将来的请求可以更快地获得相同的内容。

![](/images/net/cdn.png)