# Vue 中 key 的作用和原理

## key的概念

- `key` 主要用在Vue的虚拟DOM算法中，在新旧nodes对比时辨识VNodes。 如果不实用key，Vue会使用一种最大限度减少动态元素并且尽可能的尝试就地修改/复用相同类型元素的算法。
- 当Vue正在更新使用`v-for`渲染的元素列表时，它默认使用“就地复用”的策略。如果数据项的顺序被改变，Vue将不会移动DOM元素来匹配数据项的顺序，而是就地更新每个元素，并且确保它们在每个索引位置都正确渲染。

## key的作用

- Vue在patch过程中通过key可以判断两个虚拟节点是否是相同节点。
- 无key会导致更新的时候出问题（样式，动画，事件等）。
- 尽量不要采用索引index作为key。
![](/images/vue10/1.png)