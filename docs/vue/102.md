# v-if 和 v-for 哪个优先级更高

v-for 跟 v-if 应该避免在同一个标签中使用。如果遇到需要同时使用的情况，可以考虑写成计算属性的方式

```html
<!--应当避免这种写法-->
<li v-for="l in arr" v-if="exists"></li>
```

- 在vue2中解析时，`v-for` 的优先级高于 `v-if` 。会导致先循环后对每一项进行判断，浪费性能。
- 在vue3中 `v-if` 享有最高的优先级

<Bookmark>[Vue2 解析结果分析](https://v2.template-explorer.vuejs.org/#%3Cdiv%3E%3Cli%20v-for%3D%22l%20in%20arr%22%20v-if%3D%22exists%22%3E%3C%2Fli%3E%3C%2Fdiv%3E)</Bookmark>
<Bookmark>[Vue3 解析结果分析](https://vue-next-template-explorer.netlify.app/#eyJzcmMiOiI8bGkgdi1mb3I9XCJsIGluIGFyclwiIHYtaWY9XCJleGlzdHNcIj48L2xpPiIsIm9wdGlvbnMiOnt9fQ==)</Bookmark>